<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>changelog | api-shop</title>
    <meta name="description" content="api-shop: An easy-to-use, fast restful-api interface toolkit compatible with django / flask / bottle.">
    
    
    <link rel="preload" href="/api-shop/assets/css/0.styles.721593e8.css" as="style"><link rel="preload" href="/api-shop/assets/js/app.d9c1a6cd.js" as="script"><link rel="preload" href="/api-shop/assets/js/3.3dddc8e5.js" as="script"><link rel="preload" href="/api-shop/assets/js/13.74091c03.js" as="script"><link rel="prefetch" href="/api-shop/assets/js/10.a36d3d93.js"><link rel="prefetch" href="/api-shop/assets/js/11.e0008f2c.js"><link rel="prefetch" href="/api-shop/assets/js/12.f916b680.js"><link rel="prefetch" href="/api-shop/assets/js/14.5c66f789.js"><link rel="prefetch" href="/api-shop/assets/js/15.8d8d7829.js"><link rel="prefetch" href="/api-shop/assets/js/16.6c78065a.js"><link rel="prefetch" href="/api-shop/assets/js/4.24977c1f.js"><link rel="prefetch" href="/api-shop/assets/js/5.09ed3fbb.js"><link rel="prefetch" href="/api-shop/assets/js/6.d7c6a202.js"><link rel="prefetch" href="/api-shop/assets/js/7.318f3fbd.js"><link rel="prefetch" href="/api-shop/assets/js/8.01a29f6c.js"><link rel="prefetch" href="/api-shop/assets/js/9.bb919a6b.js"><link rel="prefetch" href="/api-shop/assets/js/vendors~docsearch.b010eae8.js">
    <link rel="stylesheet" href="/api-shop/assets/css/0.styles.721593e8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/api-shop/en/" class="home-link router-link-active"><!----> <span class="site-name">api-shop</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/api-shop/en/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://github.com/pcloth/api-shop" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api-shop/update/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/api-shop/en/update/" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/api-shop/en/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://github.com/pcloth/api-shop" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api-shop/update/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/api-shop/en/update/" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/api-shop/en/" class="sidebar-link">Home</a></li><li><a href="/api-shop/en/update/" class="active sidebar-link">changelog</a></li><li><a href="/api-shop/en/start/" class="sidebar-link">Quick Start</a></li><li><a href="/api-shop/en/components/" class="sidebar-link">components</a></li><li><a href="/api-shop/en/docs/" class="sidebar-link">Documentation and mock tools</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="changelog"><a href="#changelog" aria-hidden="true" class="header-anchor">#</a> changelog</h1> <hr> <blockquote><p>2020-10-20</p> <p>var 1.12.0
-Added api_run method instead of (<code>get_api_result_json</code> and <code>get_api_result_response</code>, they will be removed in later versions)
-When returning an empty body, a {} string is added to avoid triggering some front-end framework serialization BUG</p></blockquote> <hr> <hr> <blockquote><p>2020-06-20</p> <p>var 1.11.0
-Added regex regular format check under data_format
-data_format.numeric numeric string
-email
-data_format.chinese Chinese
-data_format.url url format
-data_format.cellphone mobile number
-data_format.idcard ID number</p></blockquote> <hr> <hr> <blockquote><p>2020-02-04</p> <p>var 1.10.1</p></blockquote> <ul><li>Added func.model.dumps, func.model.loads, func.model.models_to_list methods for exporting ORM instance data to json and updating from dict to ORM instance</li></ul> <hr> <hr> <blockquote><p>2019-10-22</p> <p>var 1.9.7</p></blockquote> <ul><li>Fault Tolerance: When the current end parameter is an empty string, the parameter type!=str is automatically converted to None; when the parameter type==str, the empty string is reserved.</li></ul> <hr> <hr> <blockquote><p>2019-09-05</p> <p>var 1.9.5</p></blockquote> <ul><li>Optimize the documentation page to add full-text search capabilities.</li></ul> <hr> <hr> <blockquote><p>2019-09-04</p> <p>var 1.9.4</p></blockquote> <ul><li>Refactoring the document template page, adding front-end routing support, and the url contains the current interface information for easy communication.</li></ul> <hr> <hr> <blockquote><p>2019-06-27</p> <p>var 1.9.1</p></blockquote> <ul><li>Add the <code>debug</code> parameter, the default is True. When it is True, the auto-fill function may take effect (of course, the corresponding parameters must also be enabled.)</li> <li>If the business code fails to load after opening, an error will be thrown and the program will be interrupted.</li></ul> <hr> <hr> <blockquote><p>2019-05-07</p> <p>var 1.9.0</p></blockquote> <ul><li>Add code reuse methods: <code>get_api_result_json</code> and <code>get_api_result_response</code></li> <li>Can directly call the return value of the api</li></ul> <hr> <hr> <blockquote><p>2019-04-03</p> <p>var 1.8.0</p></blockquote> <ul><li>Support for options for specifying parameters, for example: [1,4,7], receiving a parameter other than this list will trigger bad_request</li></ul> <hr> <hr> <blockquote><p>2019-04-03</p> <p>var 1.7.3</p></blockquote> <ul><li>Added support for multiple interfaces to support multiple url bindings.</li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span>
        <span class="token string">'url'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'weixin'</span><span class="token punctuation">,</span> <span class="token string">'weixin/&lt;name&gt;/&lt;id&gt;'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">'class'</span><span class="token punctuation">:</span> <span class="token string">'business_code.views.test'</span><span class="token punctuation">,</span>
        <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Account login'</span><span class="token punctuation">,</span>
        <span class="token string">'methods'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'POST'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token string">'required'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'user id'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> <span class="token string">'min'</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">'required'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span><span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'username'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><hr> <hr> <blockquote><p>2019-03-15</p> <p>var 1.7.2</p></blockquote> <ul><li>Further abstract optimization code to facilitate the addition of new framework support.</li> <li>Added support for the bottle frame.</li> <li>Add the bad_request_error_status parameter. When bad_request==False, bad_request_error_status is the custom error status information returned to the bad request.</li></ul> <hr> <hr> <blockquote><p>2019-03-14</p> <p>ver 1.7.1</p></blockquote> <ul><li>Optimize the framework loading logic, the default loading framework order <code>django</code> -&gt; <code>flask</code>; add configuration parameters directly to specify the framework.</li> <li>Optimize some of the regular processing logic.</li></ul> <hr> <hr> <blockquote><p>2019-03-12</p> <p>ver 1.7.0</p></blockquote> <ul><li>Added automatic generation of interface skeleton files based on configuration files: When you add conf content, api-shop will automatically create based on its contents.
  Directory, file, import module, create classes and methods, and create notes based on parameters configured by the interface to reduce the amount of code you have.</li> <li>E.g:</li></ul> <div class="language-python extra-class"><pre class="language-python"><code>af <span class="token operator">=</span> ApiShop<span class="token punctuation">(</span>conf<span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token string">'lang'</span><span class="token punctuation">:</span> <span class="token string">'zh'</span><span class="token punctuation">,</span>
        <span class="token string">'name_classification'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'WeChat'</span><span class="token punctuation">,</span> <span class="token string">'Account'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">'url_classification'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'weixin'</span><span class="token punctuation">,</span> <span class="token string">'login'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">'auto_create_folder'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token comment"># Create folder automatically</span>
        <span class="token string">'auto_create_file'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token comment"># Automatically create files</span>
        <span class="token string">'auto_create_class'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token comment"># automatically create class</span>
        <span class="token string">'auto_create_method'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token comment"># automatic creation method</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Generated file</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># api-shop automatically inserts code</span>
<span class="token keyword">from</span> api_shop <span class="token keyword">import</span> Api

<span class="token keyword">class</span> <span class="token class-name">api_login</span><span class="token punctuation">(</span>Api<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;WeChat account login &quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">post</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot; todo:
        Api-shop automatically inserts code
        Data.username # username
        Data.ddd # Date
        &quot;&quot;&quot;</span>
        <span class="token keyword">pass</span>
</code></pre></div><hr> <hr> <blockquote><p>2019-03-06</p> <p>ver 1.6.7</p></blockquote> <ul><li>Add url parameter support</li> <li>E.g:</li></ul> <div class="language-python extra-class"><pre class="language-python"><code>conf <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token string">'url'</span><span class="token punctuation">:</span> <span class="token string">'weixin/&lt;name&gt;/&lt;id&gt;'</span><span class="token punctuation">,</span>
        <span class="token string">'class'</span><span class="token punctuation">:</span> <span class="token string">'business_code.views.test'</span><span class="token punctuation">,</span>
        <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'test api'</span><span class="token punctuation">,</span>
        <span class="token string">'methods'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'POST'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token string">'required'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'user id'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> <span class="token string">'min'</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">'required'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span><span class="token string">'description'</span><span class="token punctuation">:</span> <span class="token string">'username'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span>
</code></pre></div><hr> <hr> <blockquote><p>2019-02-25</p> <p>ver 1.6.5</p></blockquote> <ul><li>Add empty Response support, Api method can not return any value</li> <li>Added support for bool parameter types</li> <li>Interface documentation supports filtering (options are required)</li></ul> <hr></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/20/2020, 2:43:12 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/api-shop/en/" class="prev router-link-active">
          Home
        </a></span> <span class="next"><a href="/api-shop/en/start/">
          Quick Start
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/api-shop/assets/js/app.d9c1a6cd.js" defer></script><script src="/api-shop/assets/js/3.3dddc8e5.js" defer></script><script src="/api-shop/assets/js/13.74091c03.js" defer></script>
  </body>
</html>
